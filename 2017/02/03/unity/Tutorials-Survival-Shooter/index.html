<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Unity教程:Survival Shooter游戏 | 吐司片的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Environment setupThis is part 1 of 10 of the Survival shooter tutorial, in which you will setup a pre-designed environment with lighting and background music.">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity教程:Survival Shooter游戏">
<meta property="og:url" content="http://tospan.me/2017/02/03/Unity/Tutorials-Survival-Shooter/index.html">
<meta property="og:site_name" content="吐司片的博客">
<meta property="og:description" content="Environment setupThis is part 1 of 10 of the Survival shooter tutorial, in which you will setup a pre-designed environment with lighting and background music.">
<meta property="og:updated_time" content="2017-02-05T07:29:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Unity教程:Survival Shooter游戏">
<meta name="twitter:description" content="Environment setupThis is part 1 of 10 of the Survival shooter tutorial, in which you will setup a pre-designed environment with lighting and background music.">
  
    <link rel="alternate" href="/atom.xml" title="吐司片的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  

</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">吐司片的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Work hard, play hard.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://tospan.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Unity/Tutorials-Survival-Shooter" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/03/Unity/Tutorials-Survival-Shooter/" class="article-date">
  <time datetime="2017-02-03T07:29:58.000Z" itemprop="datePublished">2017-02-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unity-Tutorials/">Unity Tutorials</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Unity教程:Survival Shooter游戏
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Environment-setup"><a href="#Environment-setup" class="headerlink" title="Environment setup"></a>Environment setup</h2><p>This is part 1 of 10 of the Survival shooter tutorial, in which you will setup a pre-designed environment with lighting and background music.</p>
<a id="more"></a>
<h2 id="Player-Character"><a href="#Player-Character" class="headerlink" title="Player Character"></a>Player Character</h2><p>This is part 2 of 10 of the Survival Shooter tutorial, in which you will setup and code the player character, as well as create an animator state machine.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerMovement</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> speed = <span class="number">6</span>f;            <span class="comment">// The speed that the player will move at.</span></div><div class="line"></div><div class="line">    Vector3 movement;                   <span class="comment">// The vector to store the direction of the player's movement.</span></div><div class="line">    Animator anim;                      <span class="comment">// Reference to the animator component.</span></div><div class="line">    Rigidbody playerRigidbody;          <span class="comment">// Reference to the player's rigidbody.</span></div><div class="line">    <span class="keyword">int</span> floorMask;                      <span class="comment">// A layer mask so that a ray can be cast just at gameobjects on the floor layer.</span></div><div class="line">    <span class="keyword">float</span> camRayLength = <span class="number">100</span>f;          <span class="comment">// The length of the ray from the camera into the scene.</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Create a layer mask for the floor layer.</span></div><div class="line">        floorMask = LayerMask.GetMask (<span class="string">"Floor"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Set up references.</span></div><div class="line">        anim = GetComponent &lt;Animator&gt; ();</div><div class="line">        playerRigidbody = GetComponent &lt;Rigidbody&gt; ();</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">FixedUpdate</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Store the input axes.</span></div><div class="line">        <span class="keyword">float</span> h = Input.GetAxisRaw (<span class="string">"Horizontal"</span>);</div><div class="line">        <span class="keyword">float</span> v = Input.GetAxisRaw (<span class="string">"Vertical"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Move the player around the scene.</span></div><div class="line">        Move (h, v);</div><div class="line"></div><div class="line">        <span class="comment">// Turn the player to face the mouse cursor.</span></div><div class="line">        Turning ();</div><div class="line"></div><div class="line">        <span class="comment">// Animate the player.</span></div><div class="line">        Animating (h, v);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Move</span> (<span class="params"><span class="keyword">float</span> h, <span class="keyword">float</span> v</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Set the movement vector based on the axis input.</span></div><div class="line">        movement.Set (h, <span class="number">0</span>f, v);</div><div class="line">        </div><div class="line">        <span class="comment">// Normalise the movement vector and make it proportional to the speed per second.</span></div><div class="line">        movement = movement.normalized * speed * Time.deltaTime;</div><div class="line"></div><div class="line">        <span class="comment">// Move the player to it's current position plus the movement.</span></div><div class="line">        playerRigidbody.MovePosition (transform.position + movement);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Turning</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Create a ray from the mouse cursor on screen in the direction of the camera.</span></div><div class="line">        Ray camRay = Camera.main.ScreenPointToRay (Input.mousePosition);</div><div class="line"></div><div class="line">        <span class="comment">// Create a RaycastHit variable to store information about what was hit by the ray.</span></div><div class="line">        RaycastHit floorHit;</div><div class="line"></div><div class="line">        <span class="comment">// Perform the raycast and if it hits something on the floor layer...</span></div><div class="line">        <span class="keyword">if</span>(Physics.Raycast (camRay, <span class="keyword">out</span> floorHit, camRayLength, floorMask))</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// Create a vector from the player to the point on the floor the raycast from the mouse hit.</span></div><div class="line">            Vector3 playerToMouse = floorHit.point - transform.position;</div><div class="line"></div><div class="line">            <span class="comment">// Ensure the vector is entirely along the floor plane.</span></div><div class="line">            playerToMouse.y = <span class="number">0</span>f;</div><div class="line"></div><div class="line">            <span class="comment">// Create a quaternion (rotation) based on looking down the vector from the player to the mouse.</span></div><div class="line">            Quaternion newRotation = Quaternion.LookRotation (playerToMouse);</div><div class="line"></div><div class="line">            <span class="comment">// Set the player's rotation to this new rotation.</span></div><div class="line">            playerRigidbody.MoveRotation (newRotation);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Animating</span> (<span class="params"><span class="keyword">float</span> h, <span class="keyword">float</span> v</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Create a boolean that is true if either of the input axes is non-zero.</span></div><div class="line">        <span class="keyword">bool</span> walking = h != <span class="number">0</span>f || v != <span class="number">0</span>f;</div><div class="line"></div><div class="line">        <span class="comment">// Tell the animator whether or not the player is walking.</span></div><div class="line">        anim.SetBool (<span class="string">"IsWalking"</span>, walking);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Camera-setup"><a href="#Camera-setup" class="headerlink" title="Camera  setup"></a>Camera  setup</h2><p>This is part 3 of 10 of the Survival Shooter tutorial, in which you will design the camera view and behaviour.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CameraFollow</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> Transform target;            <span class="comment">// The position that that camera will be following.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> smoothing = <span class="number">5</span>f;        <span class="comment">// The speed with which the camera will be following.</span></div><div class="line"></div><div class="line">    Vector3 offset;                     <span class="comment">// The initial offset from the target.</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Calculate the initial offset.</span></div><div class="line">        offset = transform.position - target.position;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">FixedUpdate</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Create a postion the camera is aiming for based on the offset from the target.</span></div><div class="line">        Vector3 targetCamPos = target.position + offset;</div><div class="line"></div><div class="line">        <span class="comment">// Smoothly interpolate between the camera's current position and it's target position.</span></div><div class="line">        transform.position = Vector3.Lerp (transform.position, targetCamPos, smoothing * Time.deltaTime);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Creating-Enemy-1"><a href="#Creating-Enemy-1" class="headerlink" title="Creating Enemy #1"></a>Creating Enemy #1</h2><p>This is part 4 of 10 of the Survival Shooter tutorial, in which you will create the enemy behaviour, including animation, state machines, nav-mesh and code.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EnemyMovement</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    Transform player;               <span class="comment">// Reference to the player's position.</span></div><div class="line">    PlayerHealth playerHealth;      <span class="comment">// Reference to the player's health.</span></div><div class="line">    EnemyHealth enemyHealth;        <span class="comment">// Reference to this enemy's health.</span></div><div class="line">    NavMeshAgent nav;               <span class="comment">// Reference to the nav mesh agent.</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Set up the references.</span></div><div class="line">        player = GameObject.FindGameObjectWithTag (<span class="string">"Player"</span>).transform;</div><div class="line">        playerHealth = player.GetComponent &lt;PlayerHealth&gt; ();</div><div class="line">        enemyHealth = GetComponent &lt;EnemyHealth&gt; ();</div><div class="line">        nav = GetComponent &lt;NavMeshAgent&gt; ();</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// If the enemy and the player have health left...</span></div><div class="line">        <span class="keyword">if</span>(enemyHealth.currentHealth &gt; <span class="number">0</span> &amp;&amp; playerHealth.currentHealth &gt; <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... set the destination of the nav mesh agent to the player.</span></div><div class="line">            nav.SetDestination (player.position);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// Otherwise...</span></div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... disable the nav mesh agent.</span></div><div class="line">            nav.enabled = <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Health-HUD"><a href="#Health-HUD" class="headerlink" title="Health HUD"></a>Health HUD</h2><p>This is part 5 of 10 of the Survival Shooter tutorial, in which you will create a Heads Up Display for Health using the new UI tools in Unity 4.6.</p>
<h2 id="Player-Health"><a href="#Player-Health" class="headerlink" title="Player Health"></a>Player Health</h2><p>This is part 6 of 10 of the Survival Shooter tutorial, in which you will program the player’s health, which is used in reference by other elements of the game.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> UnityEngine.UI;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerHealth</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> startingHealth = <span class="number">100</span>;                            <span class="comment">// The amount of health the player starts the game with.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> currentHealth;                                   <span class="comment">// The current health the player has.</span></div><div class="line">    <span class="keyword">public</span> Slider healthSlider;                                 <span class="comment">// Reference to the UI's health bar.</span></div><div class="line">    <span class="keyword">public</span> Image damageImage;                                   <span class="comment">// Reference to an image to flash on the screen on being hurt.</span></div><div class="line">    <span class="keyword">public</span> AudioClip deathClip;                                 <span class="comment">// The audio clip to play when the player dies.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> flashSpeed = <span class="number">5</span>f;                               <span class="comment">// The speed the damageImage will fade at.</span></div><div class="line">    <span class="keyword">public</span> Color flashColour = <span class="keyword">new</span> Color(<span class="number">1</span>f, <span class="number">0</span>f, <span class="number">0</span>f, <span class="number">0.1</span>f);     <span class="comment">// The colour the damageImage is set to, to flash.</span></div><div class="line"></div><div class="line"></div><div class="line">    Animator anim;                                              <span class="comment">// Reference to the Animator component.</span></div><div class="line">    AudioSource playerAudio;                                    <span class="comment">// Reference to the AudioSource component.</span></div><div class="line">    PlayerMovement playerMovement;                              <span class="comment">// Reference to the player's movement.</span></div><div class="line">    PlayerShooting playerShooting;                              <span class="comment">// Reference to the PlayerShooting script.</span></div><div class="line">    <span class="keyword">bool</span> isDead;                                                <span class="comment">// Whether the player is dead.</span></div><div class="line">    <span class="keyword">bool</span> damaged;                                               <span class="comment">// True when the player gets damaged.</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Setting up the references.</span></div><div class="line">        anim = GetComponent &lt;Animator&gt; ();</div><div class="line">        playerAudio = GetComponent &lt;AudioSource&gt; ();</div><div class="line">        playerMovement = GetComponent &lt;PlayerMovement&gt; ();</div><div class="line">        playerShooting = GetComponentInChildren &lt;PlayerShooting&gt; ();</div><div class="line"></div><div class="line">        <span class="comment">// Set the initial health of the player.</span></div><div class="line">        currentHealth = startingHealth;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// If the player has just been damaged...</span></div><div class="line">        <span class="keyword">if</span>(damaged)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... set the colour of the damageImage to the flash colour.</span></div><div class="line">            damageImage.color = flashColour;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// Otherwise...</span></div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... transition the colour back to clear.</span></div><div class="line">            damageImage.color = Color.Lerp (damageImage.color, Color.clear, flashSpeed * Time.deltaTime);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// Reset the damaged flag.</span></div><div class="line">        damaged = <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TakeDamage</span> (<span class="params"><span class="keyword">int</span> amount</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Set the damaged flag so the screen will flash.</span></div><div class="line">        damaged = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Reduce the current health by the damage amount.</span></div><div class="line">        currentHealth -= amount;</div><div class="line"></div><div class="line">        <span class="comment">// Set the health bar's value to the current health.</span></div><div class="line">        healthSlider.<span class="keyword">value</span> = currentHealth;</div><div class="line"></div><div class="line">        <span class="comment">// Play the hurt sound effect.</span></div><div class="line">        playerAudio.Play ();</div><div class="line"></div><div class="line">        <span class="comment">// If the player has lost all it's health and the death flag hasn't been set yet...</span></div><div class="line">        <span class="keyword">if</span>(currentHealth &lt;= <span class="number">0</span> &amp;&amp; !isDead)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... it should die.</span></div><div class="line">            Death ();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Death</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Set the death flag so this function won't be called again.</span></div><div class="line">        isDead = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Turn off any remaining shooting effects.</span></div><div class="line">        playerShooting.DisableEffects ();</div><div class="line"></div><div class="line">        <span class="comment">// Tell the animator that the player is dead.</span></div><div class="line">        anim.SetTrigger (<span class="string">"Die"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Set the audiosource to play the death clip and play it (this will stop the hurt sound from playing).</span></div><div class="line">        playerAudio.clip = deathClip;</div><div class="line">        playerAudio.Play ();</div><div class="line"></div><div class="line">        <span class="comment">// Turn off the movement and shooting scripts.</span></div><div class="line">        playerMovement.enabled = <span class="literal">false</span>;</div><div class="line">        playerShooting.enabled = <span class="literal">false</span>;</div><div class="line">    &#125;       </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EnemyAttack</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> timeBetweenAttacks = <span class="number">0.5</span>f;     <span class="comment">// The time in seconds between each attack.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> attackDamage = <span class="number">10</span>;               <span class="comment">// The amount of health taken away per attack.</span></div><div class="line"></div><div class="line"></div><div class="line">    Animator anim;                              <span class="comment">// Reference to the animator component.</span></div><div class="line">    GameObject player;                          <span class="comment">// Reference to the player GameObject.</span></div><div class="line">    PlayerHealth playerHealth;                  <span class="comment">// Reference to the player's health.</span></div><div class="line">    EnemyHealth enemyHealth;                    <span class="comment">// Reference to this enemy's health.</span></div><div class="line">    <span class="keyword">bool</span> playerInRange;                         <span class="comment">// Whether player is within the trigger collider and can be attacked.</span></div><div class="line">    <span class="keyword">float</span> timer;                                <span class="comment">// Timer for counting up to the next attack.</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Setting up the references.</span></div><div class="line">        player = GameObject.FindGameObjectWithTag (<span class="string">"Player"</span>);</div><div class="line">        playerHealth = player.GetComponent &lt;PlayerHealth&gt; ();</div><div class="line">        enemyHealth = GetComponent&lt;EnemyHealth&gt;();</div><div class="line">        anim = GetComponent &lt;Animator&gt; ();</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnTriggerEnter</span> (<span class="params">Collider other</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// If the entering collider is the player...</span></div><div class="line">        <span class="keyword">if</span>(other.gameObject == player)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... the player is in range.</span></div><div class="line">            playerInRange = <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnTriggerExit</span> (<span class="params">Collider other</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// If the exiting collider is the player...</span></div><div class="line">        <span class="keyword">if</span>(other.gameObject == player)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... the player is no longer in range.</span></div><div class="line">            playerInRange = <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Add the time since Update was last called to the timer.</span></div><div class="line">        timer += Time.deltaTime;</div><div class="line"></div><div class="line">        <span class="comment">// If the timer exceeds the time between attacks, the player is in range and this enemy is alive...</span></div><div class="line">        <span class="keyword">if</span>(timer &gt;= timeBetweenAttacks &amp;&amp; playerInRange &amp;&amp; enemyHealth.currentHealth &gt; <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... attack.</span></div><div class="line">            Attack ();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// If the player has zero or less health...</span></div><div class="line">        <span class="keyword">if</span>(playerHealth.currentHealth &lt;= <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... tell the animator the player is dead.</span></div><div class="line">            anim.SetTrigger (<span class="string">"PlayerDead"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Attack</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Reset the timer.</span></div><div class="line">        timer = <span class="number">0</span>f;</div><div class="line"></div><div class="line">        <span class="comment">// If the player has health to lose...</span></div><div class="line">        <span class="keyword">if</span>(playerHealth.currentHealth &gt; <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... damage the player.</span></div><div class="line">            playerHealth.TakeDamage (attackDamage);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Harming-Enemies"><a href="#Harming-Enemies" class="headerlink" title="Harming Enemies"></a>Harming Enemies</h2><p>This is part 7 of 10 of the Survival Shooter tutorial, in which you will give create the player shooting mechanic using Raycasting, Line Renderers and more.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EnemyHealth</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> startingHealth = <span class="number">100</span>;            <span class="comment">// The amount of health the enemy starts the game with.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> currentHealth;                   <span class="comment">// The current health the enemy has.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> sinkSpeed = <span class="number">2.5</span>f;              <span class="comment">// The speed at which the enemy sinks through the floor when dead.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> scoreValue = <span class="number">10</span>;                 <span class="comment">// The amount added to the player's score when the enemy dies.</span></div><div class="line">    <span class="keyword">public</span> AudioClip deathClip;                 <span class="comment">// The sound to play when the enemy dies.</span></div><div class="line"></div><div class="line"></div><div class="line">    Animator anim;                              <span class="comment">// Reference to the animator.</span></div><div class="line">    AudioSource enemyAudio;                     <span class="comment">// Reference to the audio source.</span></div><div class="line">    ParticleSystem hitParticles;                <span class="comment">// Reference to the particle system that plays when the enemy is damaged.</span></div><div class="line">    CapsuleCollider capsuleCollider;            <span class="comment">// Reference to the capsule collider.</span></div><div class="line">    <span class="keyword">bool</span> isDead;                                <span class="comment">// Whether the enemy is dead.</span></div><div class="line">    <span class="keyword">bool</span> isSinking;                             <span class="comment">// Whether the enemy has started sinking through the floor.</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Setting up the references.</span></div><div class="line">        anim = GetComponent &lt;Animator&gt; ();</div><div class="line">        enemyAudio = GetComponent &lt;AudioSource&gt; ();</div><div class="line">        hitParticles = GetComponentInChildren &lt;ParticleSystem&gt; ();</div><div class="line">        capsuleCollider = GetComponent &lt;CapsuleCollider&gt; ();</div><div class="line"></div><div class="line">        <span class="comment">// Setting the current health when the enemy first spawns.</span></div><div class="line">        currentHealth = startingHealth;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// If the enemy should be sinking...</span></div><div class="line">        <span class="keyword">if</span>(isSinking)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... move the enemy down by the sinkSpeed per second.</span></div><div class="line">            transform.Translate (-Vector3.up * sinkSpeed * Time.deltaTime);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TakeDamage</span> (<span class="params"><span class="keyword">int</span> amount, Vector3 hitPoint</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// If the enemy is dead...</span></div><div class="line">        <span class="keyword">if</span>(isDead)</div><div class="line">            <span class="comment">// ... no need to take damage so exit the function.</span></div><div class="line">            <span class="keyword">return</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Play the hurt sound effect.</span></div><div class="line">        enemyAudio.Play ();</div><div class="line"></div><div class="line">        <span class="comment">// Reduce the current health by the amount of damage sustained.</span></div><div class="line">        currentHealth -= amount;</div><div class="line">            </div><div class="line">        <span class="comment">// Set the position of the particle system to where the hit was sustained.</span></div><div class="line">        hitParticles.transform.position = hitPoint;</div><div class="line"></div><div class="line">        <span class="comment">// And play the particles.</span></div><div class="line">        hitParticles.Play();</div><div class="line"></div><div class="line">        <span class="comment">// If the current health is less than or equal to zero...</span></div><div class="line">        <span class="keyword">if</span>(currentHealth &lt;= <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... the enemy is dead.</span></div><div class="line">            Death ();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Death</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// The enemy is dead.</span></div><div class="line">        isDead = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Turn the collider into a trigger so shots can pass through it.</span></div><div class="line">        capsuleCollider.isTrigger = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Tell the animator that the enemy is dead.</span></div><div class="line">        anim.SetTrigger (<span class="string">"Dead"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Change the audio clip of the audio source to the death clip and play it (this will stop the hurt clip playing).</span></div><div class="line">        enemyAudio.clip = deathClip;</div><div class="line">        enemyAudio.Play ();</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StartSinking</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Find and disable the Nav Mesh Agent.</span></div><div class="line">        GetComponent &lt;NavMeshAgent&gt; ().enabled = <span class="literal">false</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Find the rigidbody component and make it kinematic (since we use Translate to sink the enemy).</span></div><div class="line">        GetComponent &lt;Rigidbody&gt; ().isKinematic = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// The enemy should no sink.</span></div><div class="line">        isSinking = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Increase the score by the enemy's score value.</span></div><div class="line">        ScoreManager.score += scoreValue;</div><div class="line"></div><div class="line">        <span class="comment">// After 2 seconds destory the enemy.</span></div><div class="line">        Destroy (gameObject, <span class="number">2</span>f);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerShooting</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> damagePerShot = <span class="number">20</span>;                  <span class="comment">// The damage inflicted by each bullet.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> timeBetweenBullets = <span class="number">0.15</span>f;        <span class="comment">// The time between each shot.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> range = <span class="number">100</span>f;                      <span class="comment">// The distance the gun can fire.</span></div><div class="line"></div><div class="line">    <span class="keyword">float</span> timer;                                    <span class="comment">// A timer to determine when to fire.</span></div><div class="line">    Ray shootRay;                                   <span class="comment">// A ray from the gun end forwards.</span></div><div class="line">    RaycastHit shootHit;                            <span class="comment">// A raycast hit to get information about what was hit.</span></div><div class="line">    <span class="keyword">int</span> shootableMask;                              <span class="comment">// A layer mask so the raycast only hits things on the shootable layer.</span></div><div class="line">    ParticleSystem gunParticles;                    <span class="comment">// Reference to the particle system.</span></div><div class="line">    LineRenderer gunLine;                           <span class="comment">// Reference to the line renderer.</span></div><div class="line">    AudioSource gunAudio;                           <span class="comment">// Reference to the audio source.</span></div><div class="line">    Light gunLight;                                 <span class="comment">// Reference to the light component.</span></div><div class="line">    <span class="keyword">float</span> effectsDisplayTime = <span class="number">0.2</span>f;                <span class="comment">// The proportion of the timeBetweenBullets that the effects will display for.</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Create a layer mask for the Shootable layer.</span></div><div class="line">        shootableMask = LayerMask.GetMask (<span class="string">"Shootable"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Set up the references.</span></div><div class="line">        gunParticles = GetComponent&lt;ParticleSystem&gt; ();</div><div class="line">        gunLine = GetComponent &lt;LineRenderer&gt; ();</div><div class="line">        gunAudio = GetComponent&lt;AudioSource&gt; ();</div><div class="line">        gunLight = GetComponent&lt;Light&gt; ();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Add the time since Update was last called to the timer.</span></div><div class="line">        timer += Time.deltaTime;</div><div class="line"></div><div class="line">        <span class="comment">// If the Fire1 button is being press and it's time to fire...</span></div><div class="line">        <span class="keyword">if</span>(Input.GetButton (<span class="string">"Fire1"</span>) &amp;&amp; timer &gt;= timeBetweenBullets)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... shoot the gun.</span></div><div class="line">            Shoot ();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// If the timer has exceeded the proportion of timeBetweenBullets that the effects should be displayed for...</span></div><div class="line">        <span class="keyword">if</span>(timer &gt;= timeBetweenBullets * effectsDisplayTime)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... disable the effects.</span></div><div class="line">            DisableEffects ();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DisableEffects</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Disable the line renderer and the light.</span></div><div class="line">        gunLine.enabled = <span class="literal">false</span>;</div><div class="line">        gunLight.enabled = <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Shoot</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Reset the timer.</span></div><div class="line">        timer = <span class="number">0</span>f;</div><div class="line"></div><div class="line">        <span class="comment">// Play the gun shot audioclip.</span></div><div class="line">        gunAudio.Play ();</div><div class="line"></div><div class="line">        <span class="comment">// Enable the light.</span></div><div class="line">        gunLight.enabled = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Stop the particles from playing if they were, then start the particles.</span></div><div class="line">        gunParticles.Stop ();</div><div class="line">        gunParticles.Play ();</div><div class="line"></div><div class="line">        <span class="comment">// Enable the line renderer and set it's first position to be the end of the gun.</span></div><div class="line">        gunLine.enabled = <span class="literal">true</span>;</div><div class="line">        gunLine.SetPosition (<span class="number">0</span>, transform.position);</div><div class="line"></div><div class="line">        <span class="comment">// Set the shootRay so that it starts at the end of the gun and points forward from the barrel.</span></div><div class="line">        shootRay.origin = transform.position;</div><div class="line">        shootRay.direction = transform.forward;</div><div class="line"></div><div class="line">        <span class="comment">// Perform the raycast against gameobjects on the shootable layer and if it hits something...</span></div><div class="line">        <span class="keyword">if</span>(Physics.Raycast (shootRay, <span class="keyword">out</span> shootHit, range, shootableMask))</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// Try and find an EnemyHealth script on the gameobject hit.</span></div><div class="line">            EnemyHealth enemyHealth = shootHit.collider.GetComponent &lt;EnemyHealth&gt; ();</div><div class="line"></div><div class="line">            <span class="comment">// If the EnemyHealth component exist...</span></div><div class="line">            <span class="keyword">if</span>(enemyHealth != <span class="literal">null</span>)</div><div class="line">            &#123;</div><div class="line">                <span class="comment">// ... the enemy should take damage.</span></div><div class="line">                enemyHealth.TakeDamage (damagePerShot, shootHit.point);</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="comment">// Set the second position of the line renderer to the point the raycast hit.</span></div><div class="line">            gunLine.SetPosition (<span class="number">1</span>, shootHit.point);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// If the raycast didn't hit anything on the shootable layer...</span></div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... set the second position of the line renderer to the fullest extent of the gun's range.</span></div><div class="line">            gunLine.SetPosition (<span class="number">1</span>, shootRay.origin + shootRay.direction * range);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Scoring-points"><a href="#Scoring-points" class="headerlink" title="Scoring points"></a>Scoring points</h2><p>This is part 8 of 10 of the Survival Shooter tutorial, in which you will program the player’s score, updating it with each kill.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> UnityEngine.UI;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ScoreManager</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> score;        <span class="comment">// The player's score.</span></div><div class="line"></div><div class="line"></div><div class="line">    Text text;                      <span class="comment">// Reference to the Text component.</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Set up the reference.</span></div><div class="line">        text = GetComponent &lt;Text&gt; ();</div><div class="line"></div><div class="line">        <span class="comment">// Reset the score.</span></div><div class="line">        score = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Set the displayed text to be the word "Score" followed by the score value.</span></div><div class="line">        text.text = <span class="string">"Score: "</span> + score;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EnemyHealth</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> startingHealth = <span class="number">100</span>;          <span class="comment">// The amount of health the enemy starts the game with.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> currentHealth;                    <span class="comment">// The current health the enemy has.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> sinkSpeed = <span class="number">2.5</span>f;           <span class="comment">// The speed at which the enemy sinks through the floor when dead.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> scoreValue = <span class="number">10</span>;               <span class="comment">// The amount added to the player's score when the enemy dies.</span></div><div class="line">    <span class="keyword">public</span> AudioClip deathClip;              <span class="comment">// The sound to play when the enemy dies.</span></div><div class="line"></div><div class="line">    Animator anim;                              <span class="comment">// Reference to the animator.</span></div><div class="line">    AudioSource enemyAudio;              <span class="comment">// Reference to the audio source.</span></div><div class="line">    ParticleSystem hitParticles;             <span class="comment">// Reference to the particle system that plays when the enemy is damaged.</span></div><div class="line">    CapsuleCollider capsuleCollider;     <span class="comment">// Reference to the capsule collider.</span></div><div class="line">    <span class="keyword">bool</span> isDead;                                  <span class="comment">// Whether the enemy is dead.</span></div><div class="line">    <span class="keyword">bool</span> isSinking;                               <span class="comment">// Whether the enemy has started sinking through the floor.</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Setting up the references.</span></div><div class="line">        anim = GetComponent &lt;Animator&gt; ();</div><div class="line">        enemyAudio = GetComponent &lt;AudioSource&gt; ();</div><div class="line">        hitParticles = GetComponentInChildren &lt;ParticleSystem&gt; ();</div><div class="line">        capsuleCollider = GetComponent &lt;CapsuleCollider&gt; ();</div><div class="line"></div><div class="line">        <span class="comment">// Setting the current health when the enemy first spawns.</span></div><div class="line">        currentHealth = startingHealth;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// If the enemy should be sinking...</span></div><div class="line">        <span class="keyword">if</span>(isSinking)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... move the enemy down by the sinkSpeed per second.</span></div><div class="line">            transform.Translate (-Vector3.up * sinkSpeed * Time.deltaTime);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TakeDamage</span> (<span class="params"><span class="keyword">int</span> amount, Vector3 hitPoint</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// If the enemy is dead...</span></div><div class="line">        <span class="keyword">if</span>(isDead)</div><div class="line">            <span class="comment">// ... no need to take damage so exit the function.</span></div><div class="line">            <span class="keyword">return</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Play the hurt sound effect.</span></div><div class="line">        enemyAudio.Play ();</div><div class="line"></div><div class="line">        <span class="comment">// Reduce the current health by the amount of damage sustained.</span></div><div class="line">        currentHealth -= amount;</div><div class="line">        </div><div class="line">        <span class="comment">// Set the position of the particle system to where the hit was sustained.</span></div><div class="line">        hitParticles.transform.position = hitPoint;</div><div class="line"></div><div class="line">        <span class="comment">// And play the particles.</span></div><div class="line">        hitParticles.Play();</div><div class="line"></div><div class="line">        <span class="comment">// If the current health is less than or equal to zero...</span></div><div class="line">        <span class="keyword">if</span>(currentHealth &lt;= <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... the enemy is dead.</span></div><div class="line">            Death ();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Death</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// The enemy is dead.</span></div><div class="line">        isDead = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Turn the collider into a trigger so shots can pass through it.</span></div><div class="line">        capsuleCollider.isTrigger = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Tell the animator that the enemy is dead.</span></div><div class="line">        anim.SetTrigger (<span class="string">"Dead"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Change the audio clip of the audio source to the death clip and play it (this will stop the hurt clip playing).</span></div><div class="line">        enemyAudio.clip = deathClip;</div><div class="line">        enemyAudio.Play ();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StartSinking</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Find and disable the Nav Mesh Agent.</span></div><div class="line">        GetComponent &lt;NavMeshAgent&gt; ().enabled = <span class="literal">false</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Find the rigidbody component and make it kinematic (since we use Translate to sink the enemy).</span></div><div class="line">        GetComponent &lt;Rigidbody&gt; ().isKinematic = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// The enemy should no sink.</span></div><div class="line">        isSinking = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Increase the score by the enemy's score value.</span></div><div class="line">        ScoreManager.score += scoreValue;</div><div class="line"></div><div class="line">        <span class="comment">// After 2 seconds destory the enemy.</span></div><div class="line">        Destroy (gameObject, <span class="number">2</span>f);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Spawning-Enemies"><a href="#Spawning-Enemies" class="headerlink" title="Spawning Enemies"></a>Spawning Enemies</h2><p>This is part 9 of 10, in which you will add two other enemy types to the game, as well as a spawner manager to create them during the game.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EnemyManager</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> PlayerHealth playerHealth;       <span class="comment">// Reference to the player's heatlh.</span></div><div class="line">    <span class="keyword">public</span> GameObject enemy;                <span class="comment">// The enemy prefab to be spawned.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> spawnTime = <span class="number">3</span>f;            <span class="comment">// How long between each spawn.</span></div><div class="line">    <span class="keyword">public</span> Transform[] spawnPoints;         <span class="comment">// An array of the spawn points this enemy can spawn from.</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Call the Spawn function after a delay of the spawnTime and then continue to call after the same amount of time.</span></div><div class="line">        InvokeRepeating (<span class="string">"Spawn"</span>, spawnTime, spawnTime);</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Spawn</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// If the player has no health left...</span></div><div class="line">        <span class="keyword">if</span>(playerHealth.currentHealth &lt;= <span class="number">0</span>f)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... exit the function.</span></div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// Find a random index between zero and one less than the number of spawn points.</span></div><div class="line">        <span class="keyword">int</span> spawnPointIndex = Random.Range (<span class="number">0</span>, spawnPoints.Length);</div><div class="line"></div><div class="line">        <span class="comment">// Create an instance of the enemy prefab at the randomly selected spawn point's position and rotation.</span></div><div class="line">        Instantiate (enemy, spawnPoints[spawnPointIndex].position, spawnPoints[spawnPointIndex].rotation);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Game-Over"><a href="#Game-Over" class="headerlink" title="Game Over"></a>Game Over</h2><p>This is part 10 of 10 of the Survival Shooter tutorial, in which you will create the Game Over screen with UI, animation and code.</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GameOverManager</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> PlayerHealth playerHealth;       <span class="comment">// Reference to the player's health.</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> restartDelay = <span class="number">5</span>f;         <span class="comment">// Time to wait before restarting the level</span></div><div class="line"></div><div class="line"></div><div class="line">    Animator anim;                          <span class="comment">// Reference to the animator component.</span></div><div class="line">    <span class="keyword">float</span> restartTimer;                     <span class="comment">// Timer to count up to restarting the level</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Set up the reference.</span></div><div class="line">        anim = GetComponent &lt;Animator&gt; ();</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// If the player has run out of health...</span></div><div class="line">        <span class="keyword">if</span>(playerHealth.currentHealth &lt;= <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// ... tell the animator the game is over.</span></div><div class="line">            anim.SetTrigger (<span class="string">"GameOver"</span>);</div><div class="line"></div><div class="line">            <span class="comment">// .. increment a timer to count up to restarting.</span></div><div class="line">            restartTimer += Time.deltaTime;</div><div class="line"></div><div class="line">            <span class="comment">// .. if it reaches the restart delay...</span></div><div class="line">            <span class="keyword">if</span>(restartTimer &gt;= restartDelay)</div><div class="line">            &#123;</div><div class="line">                <span class="comment">// .. then reload the currently loaded level.</span></div><div class="line">                Application.LoadLevel(Application.loadedLevel);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="相关教程"><a href="#相关教程" class="headerlink" title="相关教程"></a>相关教程</h2><ul>
<li><a href="https://unity3d.com/learn/tutorials/topics/interface-essentials/prefabs-concept-usage" target="_blank" rel="external">Prefabs - Concept &amp; Usage</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/graphics/lights" target="_blank" rel="external">Lights</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/graphics/using-lights" target="_blank" rel="external">Using Lights</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/animation/animator-scripting" target="_blank" rel="external">Animator Scripting</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/animation/animator-component" target="_blank" rel="external">The Animator Component</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/animation/animator-controller" target="_blank" rel="external">The Animator Controller</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/scripting/variables-and-functions" target="_blank" rel="external">Variables and Functions</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/physics/rigidbodies" target="_blank" rel="external">Rigidbodies</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/physics/colliders" target="_blank" rel="external">Colliders</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/graphics/cameras" target="_blank" rel="external">Cameras</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/graphics/using-cameras" target="_blank" rel="external">Using Cameras</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/navigation/nav-meshes" target="_blank" rel="external">Nav Meshes</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/navigation/navigation-overview" target="_blank" rel="external">Navigation Overview</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/navigation/navmesh-baking" target="_blank" rel="external">NavMesh Baking</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/navigation/navmesh-obstacles" target="_blank" rel="external">NavMesh Obstacles</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/navigation/navmesh-agent" target="_blank" rel="external">The NavMesh Agent</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/user-interface-ui/ui-canvas" target="_blank" rel="external">UI Canvas</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/modules/beginner/live-training-archive/the-new-ui" target="_blank" rel="external">The new UI</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/user-interface-ui/ui-slider" target="_blank" rel="external">UI Slider</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/user-interface-ui/ui-image" target="_blank" rel="external">UI Image</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/modules/beginner/ui/rect-transform" target="_blank" rel="external">UI RectTransform</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/physics/raycasting" target="_blank" rel="external">Raycasting</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/scripting/statics" target="_blank" rel="external">Statics</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/animation/animation-view" target="_blank" rel="external">The Animation View</a> (Lesson)</li>
<li><a href="https://unity3d.com/learn/tutorials/topics/user-interface-ui/ui-text" target="_blank" rel="external">UI Text</a> (Lesson)</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://tospan.me/2017/02/03/Unity/Tutorials-Survival-Shooter/" data-id="cizhoreq8007u1gvwfopn1u6i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Patterns/">Patterns</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity/">Unity</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/02/05/Unity/In-front-or-behind-you/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          敌人在你前面还是后面？
        
      </div>
    </a>
  
  
    <a href="/2017/02/02/Unity/Tutorials-2D-UFO-Tutorial/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Unity教程:2D UFO</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithms/">Algorithms</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Game-Development/">Game Development</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Game-Programming-Patterns/">Game Programming Patterns</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Unity/">Unity</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Unity-Tutorials/">Unity Tutorials</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/default/">default</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithms/">Algorithms</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Basics/">Basics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Structure/">Data Structure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Games/">Games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Geometry/">Geometry</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linear-Algebra/">Linear Algebra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Math/">Math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mathematics/">Mathematics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Numerical-Analysis/">Numerical Analysis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Patterns/">Patterns</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scripting/">Scripting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity/">Unity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/default/">default</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algorithms/" style="font-size: 17.5px;">Algorithms</a> <a href="/tags/Basics/" style="font-size: 12.5px;">Basics</a> <a href="/tags/C/" style="font-size: 12.5px;">C#</a> <a href="/tags/Data-Structure/" style="font-size: 16.25px;">Data Structure</a> <a href="/tags/Games/" style="font-size: 10px;">Games</a> <a href="/tags/Geometry/" style="font-size: 11.25px;">Geometry</a> <a href="/tags/Linear-Algebra/" style="font-size: 13.75px;">Linear Algebra</a> <a href="/tags/Math/" style="font-size: 12.5px;">Math</a> <a href="/tags/Mathematics/" style="font-size: 12.5px;">Mathematics</a> <a href="/tags/Numerical-Analysis/" style="font-size: 10px;">Numerical Analysis</a> <a href="/tags/Patterns/" style="font-size: 15px;">Patterns</a> <a href="/tags/Scripting/" style="font-size: 18.75px;">Scripting</a> <a href="/tags/Unity/" style="font-size: 20px;">Unity</a> <a href="/tags/default/" style="font-size: 11.25px;">default</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">January 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">December 2012</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/02/23/Unity-Multiplayer-And-Networking/">Unity Multiplayer And Networking</a>
          </li>
        
          <li>
            <a href="/2017/02/23/Unity-Physics/">Unity Physics</a>
          </li>
        
          <li>
            <a href="/2017/02/10/Game-Development/">游戏开发</a>
          </li>
        
          <li>
            <a href="/2017/02/08/Unity/Scripting-Quick-Benchmark/">Unity 简单基准测试</a>
          </li>
        
          <li>
            <a href="/2017/02/07/Unity/Patterns-FSM/">游戏编程设计模式:有限状态机(FSM)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 To Span<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>